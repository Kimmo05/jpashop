<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      lang="en">
<head th:replace="fragments/main/header :: header" >
</head>
<body>
<div class="container">
    <div th:replace="fragments/main/bodyHeader :: bodyHeader"/>
    <input type="hidden" sec:authorize="isAuthenticated()" value="loginTrue" id="loginTrue">

    <form action="/main/login" method="POST" onsubmit="return sendit()">

        <input type="hidden" id="flag" value="false">
        <div class="form-group">
            <label th:for="user_id">아이디</label>
            <input type="text"name="loginId" id="user_id" class="form-control">
            <label th:for="user_password">비밀번호</label>
            <input type="password" name="password" id="user_password" class="form-control">
        </div>
        <button  class="btn btn-primary" value="LOGIN"  >로그인</button>
        <a href="#" th:href="@{/main/register}">회원가입</a>
    </form>
    <div th:replace="fragments/main/footer :: footer" />
</div>
<script>
    function sendit(){
        if($('input[name=loginId]').val() == ''){
            alert('아이디를 입력해주세요');
            $('input[name=loginId]').focus();
            return false;
        }
        if($('input[name=password]').val() == ''){
            alert('비밀번호를 입력해주세요');
            $('input[name=password]').focus();
            return false;
        }

    }
    $(function(){
        if($('#loginTrue').val() == 'loginTrue'){
            location.href = '/main/index';
        }

    })
</script>
</body>
</html>
